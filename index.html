<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plural Nouns ‚Äì 2-Choice Quiz (Set 2 ‚Ä¢ Randomized) | Kru Pai Classroom</title>
  <style>
    :root{
      --primary:#1976d2;
      --accent:#ff8c00;
      --text:#0f172a;
      --ok:#16a34a;
      --bad:#dc2626;
      --card:#ffffff;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,'Noto Sans Thai',sans-serif;color:var(--text);background:linear-gradient(180deg,#e8f3ff,#fff)}
    header{background:linear-gradient(90deg,var(--primary),#42a5f5);color:#fff;padding:14px 16px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px}
    header .brand{font-weight:900}
    main{max-width:900px;margin:24px auto;padding:0 16px}
    .card{background:var(--card);border-radius:18px;box-shadow:0 6px 20px rgba(2,6,23,.08);padding:20px}
    .btn{cursor:pointer;border:none;border-radius:14px;padding:14px 18px;font-weight:800;font-size:18px}
    .btn.primary{background:var(--accent);color:#fff}
    .btn.secondary{background:#e3f2fd;color:var(--primary)}
    .pill{background:#e3f2fd;color:var(--primary);border-radius:999px;padding:8px 14px;font-weight:700}
    .timer{background:#fff0e0;color:var(--accent)}
    .question-box{margin-top:12px;border:2px dashed #e8eef9;border-radius:16px;padding:18px;text-align:center}
    .prompt{font-size:clamp(20px,3vw,26px);font-weight:900}
    .choices{display:grid;gap:12px;margin-top:18px}
    @media(min-width:560px){.choices{grid-template-columns:1fr 1fr}}
    .choice{display:flex;align-items:center;gap:12px;border:2px solid #e6eaf5;border-radius:14px;padding:14px 16px;background:#fff;font-weight:800;font-size:18px;cursor:pointer;position:relative}
    .choice.correct{border-color:var(--ok);background:#ecfdf5}
    .choice.wrong{border-color:var(--bad);background:#fef2f2}
    .tick{color:var(--ok);position:absolute;right:12px}
    .cross{color:var(--bad);position:absolute;right:12px}
    .muted{opacity:.8}
  </style>
</head>
<body>
  <header>
    <div class="brand">Kru Pai Classroom <small>‚Ä¢ Plural Nouns ‚Äì 2 Choices (Set 2)</small></div>
    <div style="font-size:14px">‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠ & ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ¬∑ 10 ‡∏ß‡∏¥/‡∏Ç‡πâ‡∏≠</div>
  </header>
  <main>
    <section id="start" class="card">
      <h1>‡πÄ‡∏Å‡∏°‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå (Plural) ‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2 ‚Äî ‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°</h1>
      <p class="muted">‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏° <b>‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡πâ‡∏≠</b> ‡πÅ‡∏•‡∏∞ <b>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</b> ‡πÉ‡∏´‡∏°‡πà‡∏´‡∏°‡∏î</p>
      <input id="playerName" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô" style="width:100%;padding:14px;border-radius:14px;border:2px solid #cfe8ff;font-size:18px" />
      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <button id="btnStart" class="btn primary">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
        <button id="btnHow" class="btn secondary" type="button">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
      </div>
      <div id="howto" class="muted" style="display:none;margin-top:10px">
        ‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å 2 ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <b>10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</b><br>
        ‚Ä¢ ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏•‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥<br>
        ‚Ä¢ ‡∏õ‡∏∏‡πà‡∏° ‚Äú‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‚Äù ‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

      </div>
    </section>

    <section id="quiz" class="card" style="display:none">
      <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:space-between">
        <div class="pill" id="playerBadge">üë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: -</div>
        <div class="pill">‡∏Ç‡πâ‡∏≠ <span id="qIdx">1</span>/<span id="qTotal">30</span></div>
        <div class="pill timer">‚è≥ <span id="timer">10</span>s</div>
        <div class="pill">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></div>
      </div>
      <div class="question-box">
        <div class="prompt" id="prompt">‚Äî</div>
        <div class="choices" id="choices"></div>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
        <button id="btnBackHome1" class="btn secondary" type="button">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
        <div class="muted">Kru Pai Classroom</div>
      </div>
    </section>

    <section id="result" class="card" style="display:none;text-align:center">
      <h2 id="finalTitle">‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å!</h2>
      <p id="finalName" class="muted">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: -</p>
      <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <b id="finalScore">0</b>/<span id="finalTotal">30</span></p>
      <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button id="btnRestart" class="btn primary">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)</button>
        <button id="btnBackHome2" class="btn secondary">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
      </div>
    </section>
  </main>

  <script>
    const BASE_QUESTIONS = [
      { prompt: 'tomato', correct: 'tomatoes', wrong: 'tomatos' },
      { prompt: 'potato', correct: 'potatoes', wrong: 'potatos' },
      { prompt: 'hero', correct: 'heroes', wrong: 'heros' },
      { prompt: 'echo', correct: 'echoes', wrong: 'echos' },
      { prompt: 'piano', correct: 'pianos', wrong: 'pianoes' },
      { prompt: 'photo', correct: 'photos', wrong: 'photoes' },
      { prompt: 'zoo', correct: 'zoos', wrong: 'zooes' },
      { prompt: 'bush', correct: 'bushes', wrong: 'bushs' },
      { prompt: 'dish', correct: 'dishes', wrong: 'dishs' },
      { prompt: 'watch', correct: 'watches', wrong: 'watchs' },
      { prompt: 'match', correct: 'matches', wrong: 'matchs' },
      { prompt: 'fox', correct: 'foxes', wrong: 'foxs' },
      { prompt: 'church', correct: 'churches', wrong: 'churchs' },
      { prompt: 'class', correct: 'classes', wrong: 'classs' },
      { prompt: 'box', correct: 'boxes', wrong: 'boxs' },
      { prompt: 'city', correct: 'cities', wrong: 'citys' },
      { prompt: 'story', correct: 'stories', wrong: 'storys' },
      { prompt: 'party', correct: 'parties', wrong: 'partys' },
      { prompt: 'country', correct: 'countries', wrong: 'countrys' },
      { prompt: 'lady', correct: 'ladies', wrong: 'ladys' },
      { prompt: 'baby', correct: 'babies', wrong: 'babys' },
      { prompt: 'fly', correct: 'flies', wrong: 'flys' },
      { prompt: 'try', correct: 'tries', wrong: 'trys' },
      { prompt: 'army', correct: 'armies', wrong: 'armys' },
      { prompt: 'toy', correct: 'toys', wrong: 'toies' },
      { prompt: 'boy', correct: 'boys', wrong: 'boies' },
      { prompt: 'monkey', correct: 'monkeys', wrong: 'monkies' },
      { prompt: 'key', correct: 'keys', wrong: 'keies' },
      { prompt: 'day', correct: 'days', wrong: 'daies' },
      { prompt: 'journey', correct: 'journeys', wrong: 'journeies' }
    ];

    const $ = s => document.querySelector(s);
    const shuffle = arr => arr.map(x => ({x, r: Math.random()})).sort((a,b) => a.r - b.r).map(o => o.x);

    let QUESTIONS = [];
    let idx=0, score=0, timer=10, tick=null, name='';

    const qTotalEl = $('#qTotal');
    const finalTotalEl = $('#finalTotal');
    qTotalEl.textContent = BASE_QUESTIONS.length;
    finalTotalEl.textContent = BASE_QUESTIONS.length;

    function startGame(){
      QUESTIONS = shuffle(BASE_QUESTIONS).map(q => {
        // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ ‡πÉ‡∏´‡πâ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡∏ñ‡∏π‡∏Å/‡∏ú‡∏¥‡∏î)
        const opts = shuffle([
          { text: q.correct, isCorrect: true },
          { text: q.wrong,   isCorrect: false }
        ]);
        return { prompt: q.prompt, options: opts };
      });
      idx=0; score=0;
      $('#score').textContent = score;
      $('#qIdx').textContent = idx+1;
      $('#start').style.display='none';
      $('#result').style.display='none';
      $('#quiz').style.display='block';
      renderQ();
    }

    function renderQ(){
      clearInterval(tick);
      const q = QUESTIONS[idx];
      $('#qIdx').textContent = idx+1;
      $('#prompt').textContent = q.prompt;
      const box = $('#choices');
      box.innerHTML = '';
      q.options.forEach((opt,i) => {
        const btn = document.createElement('button');
        btn.className = 'choice';
        btn.innerHTML = (i===0? 'A. ' : 'B. ') + opt.text;
        btn.onclick = () => choose(opt, btn);
        box.appendChild(btn);
      });
      timer = 10; $('#timer').textContent = timer;
      tick = setInterval(()=>{
        timer--; $('#timer').textContent = timer;
        if(timer<=0){ timeUp(); }
      },1000);
    }

    function disableChoices(){
      [...document.querySelectorAll('.choice')].forEach(b => b.disabled = true);
    }

    function timeUp(){
      clearInterval(tick);
      disableChoices();
      // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏•‡∏¢
      const q = QUESTIONS[idx];
      [...document.querySelectorAll('.choice')].forEach((btn,i) => {
        const isCorrect = q.options[i].isCorrect;
        if(isCorrect){
          btn.classList.add('correct');
          btn.insertAdjacentHTML('beforeend','<span class="tick">‚úî</span>');
        }
      });
      setTimeout(nextQ, 750);
    }

    function choose(opt, btn){
      clearInterval(tick);
      disableChoices();
      if(opt.isCorrect){
        score++; $('#score').textContent = score;
        btn.classList.add('correct'); btn.insertAdjacentHTML('beforeend','<span class="tick">‚úî</span>');
      }else{
        btn.classList.add('wrong'); btn.insertAdjacentHTML('beforeend','<span class="cross">‚úñ</span>');
        // ‡πÄ‡∏â‡∏•‡∏¢‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å
        const q = QUESTIONS[idx];
        [...document.querySelectorAll('.choice')].forEach((b,i) => {
          if(q.options[i].isCorrect){ b.classList.add('correct'); b.insertAdjacentHTML('beforeend','<span class="tick">‚úî</span>'); }
        });
      }
      setTimeout(nextQ, 700);
    }

    function nextQ(){
      idx++;
      if(idx >= QUESTIONS.length){ return endGame(); }
      renderQ();
    }

    function endGame(){
      $('#quiz').style.display='none';
      $('#result').style.display='block';
      $('#finalName').textContent = '‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ' + name;
      $('#finalScore').textContent = score;
      const title = $('#finalTitle');
      if(score === QUESTIONS.length) title.textContent = '‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡∏ñ‡∏π‡∏Å‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏¢ ‚ú®';
      else if(score >= Math.ceil(QUESTIONS.length*0.8)) title.textContent = '‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! üí™';
      else title.textContent = '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞ üòä';
    }

    // UI bindings
    $('#btnStart').onclick = () => {
      name = $('#playerName').value || 'Player';
      $('#playerBadge').textContent = 'üë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ' + name;
      startGame();
    };
    $('#btnRestart').onclick = () => startGame();
    $('#btnBackHome1').onclick = () => { clearInterval(tick); $('#quiz').style.display='none'; $('#start').style.display='block'; };
    $('#btnBackHome2').onclick = () => { $('#result').style.display='none'; $('#start').style.display='block'; };

    // ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô toggle
    $('#btnHow').onclick = () => {
      const h = $('#howto');
      h.style.display = h.style.display === 'none' ? 'block' : 'none';
    };
  </script>
</body>
</html>
